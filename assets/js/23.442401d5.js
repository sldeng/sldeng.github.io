(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{382:function(s,t,e){"use strict";e.r(t);var a=e(41),n=Object(a.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"vuex-demo地址"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vuex-demo地址"}},[s._v("#")]),s._v(" vuex "),e("a",{attrs:{href:"https://github.com/sldeng/vuex-demo.git",target:"_blank",rel:"noopener noreferrer"}},[s._v("demo地址"),e("OutboundLink")],1)]),s._v(" "),e("h3",{attrs:{id:"什么是vuex"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是vuex"}},[s._v("#")]),s._v(" 什么是vuex")]),s._v(" "),e("p",[s._v("Vuex是一个专门为Vue.js应用程序开发的状态管理模式，它采用集中式储存管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化，Vuex也集成到Vue的官方调试工具"),e("a",{attrs:{href:"https://github.com/vuejs/vue-devtools",target:"_blank",rel:"noopener noreferrer"}},[s._v("devtools"),e("OutboundLink")],1),s._v(",提供了诸如零配置的time-travel调试，状态快照导入导出等高级调试功能。\n"),e("img",{attrs:{src:"https://vuex.vuejs.org/vuex.png",alt:"Image text"}})]),s._v(" "),e("h2",{attrs:{id:"使用方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用方法"}},[s._v("#")]),s._v(" 使用方法")]),s._v(" "),e("blockquote",[e("ol",[e("li",[s._v("初始化一个vue项目")]),s._v(" "),e("li",[s._v("安装依赖vuex")]),s._v(" "),e("li",[s._v("新建store目录")])])]),s._v(" "),e("div",{staticClass:"language-store line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("    └─modules\n        └─actions.js\n        ├─getter.js\n        ├─muations.js\n        ├─state.js\n    ├─index.js\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("blockquote",[e("ol",{attrs:{start:"4"}},[e("li",[s._v("在mian引入store"),e("code",[s._v("import store from './store'")])])])]),s._v(" "),e("h2",{attrs:{id:"state"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#state"}},[s._v("#")]),s._v(" state")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("export default {\n    count:0\n}\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("ul",[e("li",[s._v("在组件中使用")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" 1. 计算属性\n computed:{\n     count(){\n       return this.$store.state.count\n     }\n }\n 2. mapState辅助函数\n  import {mapState} from 'vuex'\n\n  computed:mapState({\n      count:state =>state.count,\n      countAlias:'count',\n      countPlusLocalState(state){\n          return state.count + this.localCount\n      }\n  })\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br")])]),e("p",[s._v("当映射的计算属性的名称与state的子节点名称相同时，我们也可以给"),e("code",[s._v("mapState")]),s._v("传入字符串数组")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("computed:mapState({\n    // 映射this.count 为store.state.count\n    'count'\n})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h3",{attrs:{id:"对象展开运算符-不懂莫子意思"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#对象展开运算符-不懂莫子意思"}},[s._v("#")]),s._v(" 对象展开运算符 (不懂莫子意思)")]),s._v(" "),e("p",[e("code",[s._v("mapState")]),s._v("函数返回的是一个对象，我们如何将它与局部计算属性混合使用呢？通常，我们需要使用一个工具函数将多个对象合并为一个，以使我们可以将最终对象传给computed属性，但是自从有了对象展开运算符,我们可以极大地简化写法：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("coputed:{\n    localComputed(){\n\n    }\n    ...mapState({\n\n    })\n}\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("h2",{attrs:{id:"组件任然保有局部状态"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#组件任然保有局部状态"}},[s._v("#")]),s._v(" 组件任然保有局部状态")]),s._v(" "),e("p",[s._v("使用Vuex并不意味着你需要将所有的状态放入Vuex，虽然将所有的状态放到Vuex会使状态变化更显式和易调试，但也会使代码变得冗长和不直观，如果有些状态严格属于单个组件，最好还是作为组件的局部状态，你应该根据你的应用开发需要进行权衡和确定")]),s._v(" "),e("h2",{attrs:{id:"getter"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#getter"}},[s._v("#")]),s._v(" Getter")]),s._v(" "),e("p",[s._v("有时候我们需要从store中的state中派生出一些状态，例如对列表进行过滤并计数")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" computed:{\n     doneTodosCount(){\n         return this.$store.state.todos.fliter(todo=>todo.done).length\n     }\n }\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);